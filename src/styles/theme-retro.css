/* styles/theme-retro.css */

@import url("https://fonts.googleapis.com/css2?family=Russo+One&family=Orbitron:wght@700;800&display=swap");

:root[data-scheme="retro"] .gb-retro-header,
[data-scheme="retro"] .gb-retro-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255,255,255,.06);
  flex-wrap: nowrap;      /* prevents buttons from dropping below */
}

:root[data-scheme="retro"] .gb-theme-switch,
[data-scheme="retro"] .gb-theme-switch {
  margin-left: auto;      /* pushes RETRO/NEO to the right of the logo */
  display: inline-flex;
  gap: 8px;
}
/* Seamless color loop + gentle drift (no jump) */
:root[data-scheme="retro"] .gb-wordmark,
[data-scheme="retro"] .gb-wordmark {
  font-family: "Russo One", "Orbitron", "Audiowide", var(--font-ui);
  font-weight: 800;
  font-size: clamp(32px, 5.5vw, 68px);
  line-height: 1;
  letter-spacing: 1px;
  margin: 0;
  white-space: nowrap;

  /* Base gradient (static pattern) */
  background: linear-gradient(90deg, #EF476F, #FFD166, #06D6A0, #118AB2, #EF476F);
  background-size: 240% 100%;
  background-position: 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;

  /* Seamless animations */
  animation:
    gbHueCycle 6s linear infinite,          /* rotates colors = perfect loop */
    gbDrift     5s ease-in-out infinite alternate; /* slides left↔right w/o jump */

  will-change: filter, background-position;
}

/* Rotates the hue 0→360° (start==end) */
@keyframes gbHueCycle {
  0%   { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

/* Smooth back-and-forth pan so there’s never a reset jump */
@keyframes gbDrift {
  0%   { background-position:   0% 50%; }
  100% { background-position: 100% 50%; }
}


  
  /* theme buttons live on the RIGHT of the wordmark */
  :root[data-scheme="retro"] .gb-theme-switch {
    margin-left: auto;                   /* pushes buttons to the far right */
    display: inline-flex;
    gap: 8px;
    flex: 0 0 auto;                      /* don't let them grow/shrink oddly */
  }
  
  /* smaller, edgier buttons */
  :root[data-scheme="retro"] .gb-theme-btn {
    min-width: 70px;                     /* smaller */
    height: 30px;                        /* smaller */
    padding: 0 12px;
    border-radius: 4px;                  /* edgy corners */
    border: 1px solid #2f2f35;
    cursor: pointer;
  
    font: 900 11px/1 var(--font-ui);     /* smaller text */
    letter-spacing: .1em;
  
    color: #ececf1;
    background: linear-gradient(180deg, #2b2c31, #1f2024);
    box-shadow: 0 3px 0 rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.08);
    transition: filter .15s, transform .05s, box-shadow .2s, background .2s, color .2s;
  }
  :root[data-scheme="retro"] .gb-theme-btn:hover { filter: brightness(1.06); }
  :root[data-scheme="retro"] .gb-theme-btn:active {
    transform: translateY(1px);
    box-shadow: 0 1px 0 rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.06);
  }
  
  /* active = orange glow */
  :root[data-scheme="retro"] .gb-theme-btn.is-active {
    color: #1b0e00;
    border-color: rgba(255,138,0,.75);
    background: linear-gradient(180deg, #ff8a00 0%, #ff6a00 100%);
    box-shadow:
      0 0 14px rgba(255,140,0,.45),
      0 0 26px rgba(255,140,0,.25),
      0 3px 0 rgba(0,0,0,.45),
      inset 0 1px 0 rgba(255,255,255,.35);
  }
  
  /* keep things on one row on narrow screens too */
  @media (max-width: 640px) {
    :root[data-scheme="retro"] .gb-wordmark { font-size: clamp(28px, 8vw, 40px); }
    :root[data-scheme="retro"] .gb-theme-btn { min-width: 64px; height: 28px; font-weight: 800; }
  }
  

/* ---------- Rows ---------- */
:root[data-scheme="retro"] .gb-row {
  display: grid;
  align-items: center;
}
:root[data-scheme="retro"] .gb-row--packs {
  grid-template-columns: minmax(0,1fr);
}
:root[data-scheme="retro"] .gb-row--session {
  grid-template-columns: minmax(0,1fr);
  padding-top: 6px;
  border-top: 1px solid rgba(255,255,255,.06);
}

/* ---------- Universal retro controls inside panel ---------- */
:root[data-scheme="retro"] .gb-retro-panel select,
:root[data-scheme="retro"] .gb-retro-panel button,
:root[data-scheme="retro"] .gb-retro-panel input[type="number"],
:root[data-scheme="retro"] .gb-retro-panel input[type="text"] {
  font: 700 12px/1.2 var(--font-ui);
  letter-spacing: .03em;
}

/* Buttons: oldschool drumcomputer */
:root[data-scheme="retro"] .btn-retro,
:root[data-scheme="retro"] .gb-retro-panel button:not(.gb-toggle) {
  min-height: var(--tap);
  padding: 0 14px;
  border-radius: 4px;
  border: 1px solid rgba(0,0,0,.6);
  color: #f4f4f4;
  background: linear-gradient(180deg, #2e2f34 0%, #222329 100%);
  box-shadow:
    0 3px 0 rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.08);
  transition: transform .05s ease, filter .15s ease, box-shadow .2s ease;
}
:root[data-scheme="retro"] .gb-retro-panel button:hover { filter: brightness(1.06); }
:root[data-scheme="retro"] .gb-retro-panel button:active {
  transform: translateY(1px);
  box-shadow:
    0 1px 0 rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.06);
}

/* Accent variants (use on key actions via className) */
:root[data-scheme="retro"] .btn--accent-red { background: linear-gradient(180deg, #ef476f, #b83a59); color:#fff; }
:root[data-scheme="retro"] .btn--accent-yellow { background: linear-gradient(180deg, #ffd166, #ccac53); color:#1b1b1b; }
:root[data-scheme="retro"] .btn--accent-green { background: linear-gradient(180deg, #06d6a0, #059e77); color:#02130e; }

/* Selects (dropdowns) */
:root[data-scheme="retro"] .gb-retro-panel select {
  min-height: var(--tap);
  padding: 0 12px;
  color: var(--retro-text);
  background:
    linear-gradient(180deg, #2b2c31 0%, #1f2024 100%);
  border: 1px solid #2f2f35;
  border-radius: 6px;
  box-shadow: inset 0 1px 0 var(--retro-gloss), inset 0 -1px 0 rgba(0,0,0,.5);
}

/* Inputs (e.g., BPM number) */
:root[data-scheme="retro"] .gb-retro-panel input[type="number"],
:root[data-scheme="retro"] .gb-retro-panel input[type="text"] {
  min-height: var(--tap);
  padding: 0 10px;
  color: var(--retro-text);
  background: linear-gradient(180deg, #2b2c31, #1f2024);
  border: 1px solid #2f2f35;
  border-radius: 6px;
  box-shadow: inset 0 1px 0 var(--retro-gloss), inset 0 -1px 0 rgba(0,0,0,.5);
}

/* ---------- Metronome button (3 states) ---------- */
:root[data-scheme="retro"] .metro-btn {
  min-width: 112px;
  border-radius: 4px;
  font-weight: 800;
  letter-spacing: .04em;
  transition: background .15s ease, box-shadow .2s ease, color .15s ease, transform .05s ease;
}
:root[data-scheme="retro"] .metro-btn:hover { filter: brightness(1.06); }
:root[data-scheme="retro"] .metro-btn:active { transform: translateY(1px); }

:root[data-scheme="retro"] .metro-btn.mode-beats{
  background: linear-gradient(180deg, #e6e7ea 0%, #d8d9dd 100%);
  color:#111;
  box-shadow: 0 3px 0 rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.6);
}
:root[data-scheme="retro"] .metro-btn.mode-all{
  background: linear-gradient(180deg, var(--retro-a4) 0%, #0e7da2 100%);
  color:#fff;
  box-shadow: 0 3px 10px rgba(17,138,178,.45), inset 0 1px 0 rgba(255,255,255,.25);
}
:root[data-scheme="retro"] .metro-btn.mode-off{
  background: linear-gradient(180deg, #2c2c2f 0%, #1f1f22 100%);
  color:#aaa;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
}

/* ---------- BPM slider ---------- */
:root[data-scheme="retro"] .slider-bpm {
  height: 44px;
}

/* track */
:root[data-scheme="retro"] .slider-bpm::-webkit-slider-runnable-track{
  height: 8px;
  background: linear-gradient(180deg, #3b3b3b, #2b2b2b);
  border-radius: 4px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08), inset 0 -1px 0 rgba(0,0,0,.3);
}
:root[data-scheme="retro"] .slider-bpm::-moz-range-track{
  height: 8px;
  background: linear-gradient(180deg, #3b3b3b, #2b2b2b);
  border-radius: 4px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08), inset 0 -1px 0 rgba(0,0,0,.3);
}

/* thumb */
:root[data-scheme="retro"] .slider-bpm::-webkit-slider-thumb{
  -webkit-appearance: none;
  width: 14px; height: 28px;
  margin-top: -10px;
  border-radius: 3px;
  border: 1px solid rgba(0,0,0,.6);
  background:
    linear-gradient(180deg, #f7f7f7 0%, #e8e8e8 60%, #d6d6d6 100%),
    linear-gradient(90deg, transparent 45%, rgba(0,0,0,.25) 47%, rgba(0,0,0,.25) 53%, transparent 55%);
  box-shadow: 0 2px 0 rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.7);
  transition: box-shadow .2s, transform .05s, filter .15s;
}
:root[data-scheme="retro"] .slider-bpm::-webkit-slider-thumb:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.55),
    0 0 10px rgba(37,99,235,.35);
}
:root[data-scheme="retro"] .slider-bpm::-moz-range-thumb{
  width: 14px; height: 28px;
  border-radius: 3px;
  border: 1px solid rgba(0,0,0,.6);
  background:
    linear-gradient(180deg, #f7f7f7 0%, #e8e8e8 60%, #d6d6d6 100%),
    linear-gradient(90deg, transparent 45%, rgba(0,0,0,.25) 47%, rgba(0,0,0,.25) 53%, transparent 55%);
  box-shadow: 0 2px 0 rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.7);
}
